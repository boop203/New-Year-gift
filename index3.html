<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>New Year Surprise</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: radial-gradient(circle at top, #ffe1ec, #c9f7ff);
  overflow: hidden;
  text-align: center;
}

/* ---------- Sections ---------- */
.section {
  display: none;
  height: 100vh;
  width: 100%;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  opacity: 0;
  transition: opacity 1.2s ease;
}

.section.visible {
  display: flex;
  opacity: 1;
}

/* ---------- Heading and Subtitle ---------- */
#mainHeading {
  font-family: 'Pacifico', cursive;
  font-size: 10vw;
  margin: 0;
  color: #ff2e63;
  text-shadow: 0 0 40px #fff, 0 0 80px #ff6f91;
  animation: floatText 4s ease-in-out infinite;
}

#subtitle {
  font-family: 'Pacifico', cursive;
  font-size: 3vw;
  color: #ff5f87;
  margin-top: 12px;
  text-shadow: 0 0 25px rgba(255,200,220,0.7);
  animation: floatText 4s ease-in-out infinite;
}

@keyframes floatText {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

/* ---------- Buttons ---------- */
button {
  padding: 16px 46px;
  font-size: 1.1rem;
  border: none;
  border-radius: 60px;
  cursor: pointer;
  background: linear-gradient(45deg, #ff6f91, #ffc75f);
  color: white;
  font-weight: bold;
  margin-top: 32px;
  box-shadow: 0 15px 35px rgba(255,105,180,0.35),
              inset 0 0 10px rgba(255,255,255,0.5);
  transition: all 0.35s ease;
}

button:hover { transform: scale(1.12); }

/* ---------- Menu Cards ---------- */
.menu {
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 40px;
}

.card {
  width: 260px;
  height: 180px;
  backdrop-filter: blur(12px);
  background: rgba(255,255,255,0.55);
  border-radius: 28px;
  box-shadow:
    0 25px 50px rgba(0,0,0,0.18),
    inset 0 0 20px rgba(255,255,255,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  font-weight: 600;
  cursor: pointer;
  transition: 0.45s ease;
}

.card:hover {
  transform: translateY(-20px) scale(1.1);
}

/* ---------- Canvas ---------- */
#fireworks, #confetti {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* ---------- Gallery Hover ---------- */
.gallery-img:hover {
  transform: scale(1.08);
}
</style>
</head>
<body>

<!-- CANVASES FOR CONFETTI AND FIREWORKS -->
<canvas id="confetti"></canvas>
<canvas id="fireworks"></canvas>

<!-- FIRST SCREEN -->
<div id="wish" class="section visible">
  <h1 id="mainHeading">üéâ Happy New Year üéâ</h1>
  <div id="subtitle">My Dear Best friend</div>
  <button id="magicButton" onclick="showSection('menu')">View Our Past Year</button>
</div>

<!-- MENU SCREEN -->
<div id="menu" class="section">
  <h2 style="font-family:'Pacifico'; font-size:3rem;">Our Year Together ‚ú®</h2>
  <div class="menu">
    <div class="card" onclick="showSection('pics')">üì∏ Our Pics Together</div>
    <div class="card" onclick="showSection('thoughts')">üíå What I Think About You</div>
    <div class="card" onclick="showSection('final')">üéÜ Happy New Year Again</div>
  </div>
  <button onclick="showSection('wish')">Back</button>
</div>

<!-- PICS SCREEN -->
<div id="pics" class="section">
  <h2 style="font-family:'Pacifico'; font-size:3rem; color:#ff2e63;">Our Memories üì∏</h2>
  <div class="gallery" style="display:flex; justify-content:center; flex-wrap:wrap; gap:20px; margin-top:30px;">
    <img src="memory1.png" alt="Memory 1" style="width:300px; border-radius:20px; box-shadow:0 15px 40px rgba(255,105,180,0.3); transition:transform 0.4s;" class="gallery-img">
    <img src="memory2.png" alt="Memory 2" style="width:300px; border-radius:20px; box-shadow:0 15px 40px rgba(255,105,180,0.3); transition:transform 0.4s;" class="gallery-img">
    <img src="memory3.png" alt="Memory 3" style="width:300px; border-radius:20px; box-shadow:0 15px 40px rgba(255,105,180,0.3); transition:transform 0.4s;" class="gallery-img">
  </div>
  <button onclick="showSection('menu')">Back</button>
</div>

<!-- THOUGHTS SCREEN -->
<div id="thoughts" class="section">
  <h2 style="font-family:'Pacifico'; font-size:3rem; color:#ff2e63;">What I Think About You üíñ</h2>
  <p id="thoughtsText" style="max-width:800px; font-size:1.3rem; line-height:1.6; color:#ff4f7c; text-shadow:0 0 15px rgba(255,200,220,0.6); opacity:0; transition: opacity 2s;">
    Priyapetta Sanvi,<br>
    Satyam paranja orikilum ninnod friends aagum njn vijaarichitt illaüòÇ, but ente vidhi kaaranam friends aayi poyi. And now I'm grateful that we met and we are friends. I have told you so many things that I haven't to most of my other best friends. Enganeyo oru varsham kond nammal thammil nalla oru bond indaayi. Hopefully this bond stays forever and never fades away.<br>
    Thank you for everything Buddy‚ù§
  </p>
  <button onclick="showSection('menu')">Back</button>
</div>

<!-- FINAL SCREEN -->
<div id="final" class="section">
  <h2 style="font-family:'Pacifico'; font-size:4rem;">üéÜ Happy New Year üéÜ</h2>
  <p>May this year be soft, kind & magical ‚ú®</p>
  <button onclick="showSection('menu')">Back</button>
</div>

<script>
/* ------------------ NAVIGATION ------------------ */
function showSection(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("visible"));
  document.getElementById(id).classList.add("visible");
}

/* ------------------ CONFETTI (ALL SCREENS) ------------------ */
const confettiCanvas = document.getElementById("confetti");
const ctx = confettiCanvas.getContext("2d");
confettiCanvas.width = innerWidth;
confettiCanvas.height = innerHeight;

window.onresize = () => {
  confettiCanvas.width = innerWidth;
  confettiCanvas.height = innerHeight;
};

let confettiStrips = [];
for(let i=0;i<180;i++){
  confettiStrips.push({
    x: Math.random()*confettiCanvas.width,
    y: Math.random()*confettiCanvas.height,
    w: Math.random()*8 + 6,
    h: Math.random()*18 + 12,
    dx: Math.random()*0.6 - 0.3,
    dy: Math.random()*1.2 + 0.6,
    r: Math.random()*360,
    dr: Math.random()*2 - 1,
    c: `hsl(${Math.random()*360},100%,60%)`
  });
}

function animateConfetti() {
  ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  confettiStrips.forEach(s => {
    ctx.save();
    ctx.translate(s.x,s.y);
    ctx.rotate(s.r*Math.PI/180);
    ctx.fillStyle = s.c;
    ctx.fillRect(-s.w/2,-s.h/2,s.w,s.h);
    ctx.restore();
    s.x += s.dx;
    s.y += s.dy;
    s.r += s.dr;
    if(s.y > confettiCanvas.height + 40){
      s.y = -40;
      s.x = Math.random()*confettiCanvas.width;
    }
  });
  requestAnimationFrame(animateConfetti);
}
animateConfetti();

/* ------------------ FIREWORKS (FIRST SCREEN ONLY) ------------------ */
const fwCanvas = document.getElementById("fireworks");
const fCtx = fwCanvas.getContext("2d");
fwCanvas.width = innerWidth;
fwCanvas.height = innerHeight;

let fireworks = [];
let particles = [];

function random(min,max){return Math.random()*(max-min)+min;}

function Firework(x,y,targetY){
  this.x = x;
  this.y = y;
  this.targetY = targetY;
  this.dy = (y-targetY)/18;
  this.exploded = false;
  this.color = `hsl(${random(0,360)},100%,70%)`;
}

Firework.prototype.update = function(){
  if(!this.exploded){
    this.y -= this.dy;
    if(this.y <= this.targetY){ this.exploded=true; explode(this.x,this.y,this.color);}
  }
};

function Particle(x,y,color){
  this.x = x;
  this.y = y;
  this.vx = random(-6,6);
  this.vy = random(-6,6);
  this.alpha = 1;
  this.color = color;
  this.radius = random(2,5);
}

Particle.prototype.update = function(){
  this.x += this.vx;
  this.y += this.vy;
  this.alpha -= 0.02;
};

function explode(x,y,color){
  for(let i=0;i<60;i++){
    particles.push(new Particle(x,y,color));
  }
}

function animateFireworks(){
  fCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
  if(document.getElementById('wish').classList.contains('visible') && Math.random()<0.06){
    fireworks.push(new Firework(random(50,fwCanvas.width/2-100),fwCanvas.height,random(100,fwCanvas.height/2)));
    fireworks.push(new Firework(random(fwCanvas.width/2+100,fwCanvas.width-50),fwCanvas.height,random(100,fwCanvas.height/2)));
  }
  fireworks.forEach((f,i)=>{
    f.update();
    if(f.exploded){fireworks.splice(i,1);}
  });
  particles.forEach((p,i)=>{
    p.update();
    fCtx.globalAlpha=p.alpha;
    fCtx.fillStyle=p.color;
    fCtx.beginPath();
    fCtx.arc(p.x,p.y,p.radius,0,Math.PI*2);
    fCtx.fill();
    fCtx.globalAlpha=1;
    if(p.alpha<=0) particles.splice(i,1);
  });
  requestAnimationFrame(animateFireworks);
}
animateFireworks();

/* ------------------ Thoughts Fade-In ------------------ */
const thoughtsSection = document.getElementById('thoughts');
const thoughtsText = document.getElementById('thoughtsText');

const observer = new MutationObserver(() => {
  if (thoughtsSection.classList.contains('visible')) {
    thoughtsText.style.opacity = 1;
  } else {
    thoughtsText.style.opacity = 0;
  }
});

observer.observe(thoughtsSection, { attributes: true, attributeFilter: ['class'] });
</script>

</body>
</html>
